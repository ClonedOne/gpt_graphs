First part of the question:

Layer 0: [0]
Neighbors of 0: [1, 10]

Index of 1: 0
Index of 10: 1
Median: 0.5

Layer 1: [1, 10]
Neighbors of 1: [2, 6, 5, 3, 7, 8]
Index of 2: 0
Index of 6: 1
Index of 5: 2
Index of 3: 3
Index of 7: 4
Index of 8: 5
Median: 2.5

Neighbors of 10: [9]
Index of 9: 0
Median: 0

Second part of the question:

Layer 0:
0 -> 0.5

Layer 1:
1 -> 2.5
10 -> 0

Layer 2:
2 -> 0
5 -> 2
6 -> 1
3 -> 3
7 -> 4
8 -> 5
9 -> 0

Layer 3:
4 -> 0

Third part of the question:

Layer 0: [0]
Layer 1: [10, 1]
Layer 2: [2, 6, 5, 3, 7, 8, 9]
Layer 3: [4]