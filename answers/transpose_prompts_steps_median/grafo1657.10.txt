Here are the requested outputs:

First output:
Layer 0: [0]
Neighbors of 0: [1, 3]
Index of 1: 0
Index of 3: 1
Median of indices: 0.5

Second output:
Layer 0:
0 -> 0.5

Layer 1:
1 -> 0.0
3 -> 1.0

Layer 2:
2 -> 0.0
7 -> 1.0
6 -> 2.0
4 -> 3.0
8 -> 4.0
9 -> 5.0

Layer 3:
5 -> 0.0

Third output:
Layer 0: [0]
Layer 1: [1, 3]
Layer 3: [5]
Layer 2: [2, 7, 6, 4, 8, 9]