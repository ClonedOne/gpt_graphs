python
Copy code
ranks = {0: [0], 1: [8, 5], 2: [3, 1], 3: [6, 4, 7], 4: [9], 5: [2]}

for rank in range(len(ranks)-1):
    nodes = ranks[rank]
    next_nodes = ranks[rank+1]
    best_order = nodes
    best_crossings = float('inf')
    for i in range(len(nodes)):
        for j in range(i+1, len(nodes)):
            order = nodes[:i] + [nodes[j]] + nodes[i+1:j] + [nodes[i]] + nodes[j+1:]
            crossings = 0
            for edge in edges:
                if edge[0] in order and edge[1] in order:
                    if order.index(edge[0]) > order.index(edge[1]):
                        crossings += 1
            if crossings < best_crossings:
                best_order = order
                best_crossings = crossings
    ranks[rank] = best_order

print(ranks)